# dbt Package for BigCommerce<>BigQuery Integration
A dbt package for working with BigCommerce data ETL'd into BigQuery with BigC's native BQ integration.

##Requirements

* [ ] As a design pattern, use the dbt package structure that Fivetran uses for Shopify.
  * https://hub.getdbt.com/fivetran/shopify/latest/
  * Note: Not sure if we want to break out `bigcommerce` from `bigcommerce_source` the way that Fivetran normally does. Your choice.
  * The source models shoudl be documented in a `src_*` yml.
  * The intermediate models should be prefixed with `stg_`
  * The final marts should be named `bigcommerce__` and so forth...
* [ ] All raw tables generated by this ETL should be referenced as Sources in the dbt package.
* [ ] The Staging Models should just do light clean-up and any light joins required. These should be documented too.
* [ ] The final mart should include:
  * A flattened customers table, including the following rollup calculations per customer record/row. (Please feel free to suggest other naming conventions.)
    * total_order_count
    * aov - average order value
    * cltv - Customer lifetime value
    * date_first_purchase
    * date_last_purchase
  * A flattened orders table
    * date_since_previous_purchase
    * order_count_for_custom - the total order count for the customer associated with the order.
    * order_number_for_customer - the order sequence/count for this order, for a given customer.
